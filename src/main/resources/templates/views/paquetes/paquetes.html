<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${titulo}">Lista de Paquetes</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container mt-5">
    <h2 class="text-center mb-4">Gestión de Paquetes</h2>

    <div class="text-end mb-3">
        <a th:href="@{/views/paquetes/nuevo}" class="btn btn-success">
            <i class="bi bi-plus-circle"></i> Nuevo Paquete
        </a>
    </div>

    <table class="table table-bordered table-striped align-middle">
        <thead class="table-primary text-center">
        <tr>
            <th>Título</th>
            <th>Descripción</th>
            <th>Precio</th>
            <th>Destino</th>
            <th>Disponibilidad</th>
            <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="paquete : ${listaPaquetes}">
            <td th:text="${paquete.titulo}">Título</td>
            <td th:text="${paquete.descripcion}">Descripción</td>
            <td th:text="${paquete.precio}">Precio</td>
            <td th:text="${paquete.destino.nombre}">Destino</td>
            <td th:text="${paquete.disponibilidad}">Disponibilidad</td>
            <td class="text-center">
                <a th:href="@{'/views/paquetes/editar/' + ${paquete.idPaquete}}" 
                   class="btn btn-info btn-sm me-2">Editar</a>
                <a th:href="@{'/views/paquetes/eliminar/' + ${paquete.idPaquete}}" 
                   class="btn btn-danger btn-sm"
                   onclick="return confirm('¿Seguro que deseas eliminar este paquete?');">
                    Eliminar
                </a>
            </td>
        </tr>
        <tr th:if="${#lists.isEmpty(listaPaquetes)}">
            <td colspan="6" class="text-center text-muted">No hay paquetes registrados</td>
        </tr>
        </tbody>
    </table>

    <div class="text-center mt-4">
        <button class="btn btn-outline-secondary" onclick="volverAlInicio()">Volver al Inicio</button>
    </div>
</div>

<footer class="text-center mt-5 mb-3 text-muted">
    &copy; 2025 Agencia de Viajes — Proyecto Académico
</footer>
<script>
    function volverAlInicio() {
        if (window.top !== window.self) {
            window.top.volverInicio();
        } else {
            window.location.href = '/';
        }
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

